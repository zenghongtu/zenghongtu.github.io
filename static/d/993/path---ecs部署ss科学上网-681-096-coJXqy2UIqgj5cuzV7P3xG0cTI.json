{"data":{"post":{"id":"08595e9b-916a-5cc8-92ac-2e7cf9d77046","html":"<p>title: ECS部署SS科学上网\nauthor: 大图\ntags:</p>\n<ul>\n<li>ss</li>\n<li>科学上网\ncategories:</li>\n<li>\n<p>ECS\ndate: 2017-04-05 15:01:00</p>\n<hr>\n<p>科学上网-shadowsocks\n1.安装shadowsocks\nsudo pip install shadowsocks\n2.启动\n命令方式启动</p>\n</li>\n</ul>\n<p>sslocal -s 222.22.2.2 -p 222 -b 127.0.0.1 -l 1080 -k passwd -t 600 -m aes-256-cfb\n配置文件启动</p>\n<p>sslocal -c shadowsocks.json\n配置文件格式：</p>\n<p>{\n“server” : “222.22.2.2”,\n“local<em>address”: “127.0.0.1”,\n“server</em>port” : 222,\n“local<em>port” : 1080,\n“password” : “passwd”,\n“timeout” : 600,\n“method” : “aes-256-cfb”,\n“fast</em>open”:false\n}\n3.使用polipo进行二次转发\n安装polipo</p>\n<p>sudo apt-get install polipo\n配置polipo\n修改/etc/polipo/config</p>\n<p>logSyslog = true\nlogFile = /var/log/polipo/polipo.log</p>\n<p>proxyAddress = “0.0.0.0”</p>\n<p>socksParentProxy = “127.0.0.1:1080”\nsocksProxyType = socks5</p>\n<p>chunkHighMark = 50331648\nobjectHighMark = 16384</p>\n<p>serverMaxSlots = 64\nserverSlots = 16\nserverSlots1 = 32\n重启polipo</p>\n<p>sudo /etc/init.d/polipo restart\npolipo默认是运行在8123端口</p>\n<p>4.Python3使用shadowsocks代理\nshadowsocks使用的是socks5协议，需要Python支持socks5代理</p>\n<p>安装pysocks</p>\n<p>sudo pip install pysocks\n使用示例：</p>\n<p>import requests</p>\n<p>proxies={‘http’:‘socks5://127.0.0.1:1080’}\nhtml=requests.get(’<a href=\"http://httpbin.org/ip&#x27;,proxies=proxies\">http://httpbin.org/ip’,proxies=proxies</a>).text\nprint(html)\nor</p>\n<p>import requests\nimport socks\nimport socket</p>\n<p>socks.setdefaultproxy(socks.PROXY<em>TYPE</em>SOCKS5, “127.0.0.1”, 1080)\nsocket.socket = socks.socksocket</p>\n<p>html=requests.get(’<a href=\"http://httpbin.org/ip&#x27;\">http://httpbin.org/ip’</a>).text\nprint(html)</p>","fields":{"slug":"/ECS部署SS科学上网/","prefix":null},"frontmatter":{"title":"","author":null,"category":null,"cover":null}},"authornote":{"id":"f3ffdeef-a16f-507d-9f2f-98fa5e045d0b","html":"<p><strong>Mr. Gatsby</strong> Proin ornare ligula eu tellus tempus elementum. Aenean <a href=\"/\">bibendum</a> iaculis mi, nec blandit lacus interdum vitae. Vestibulum non nibh risus, a scelerisque purus. Blandit lacus interdum vitae. Vestibulum non nibh risus, a scelerisque purus.</p>"},"site":{"siteMetadata":{"facebook":{"appId":""}}}},"pageContext":{"slug":"/ECS部署SS科学上网/","prev":{"id":"d60f890f-a61e-5917-be96-b5e5727c2342","fields":{"slug":"/git删除错误提交的commit/","prefix":null,"source":"posts"},"frontmatter":{"title":"","category":null}},"next":{"id":"1af5e9de-8dc1-52c5-9dd5-84f80250877d","fields":{"slug":"/draft-post/","prefix":null,"source":"posts"},"frontmatter":{"title":"This is a draft post","category":"sayings"}},"source":"posts"}}