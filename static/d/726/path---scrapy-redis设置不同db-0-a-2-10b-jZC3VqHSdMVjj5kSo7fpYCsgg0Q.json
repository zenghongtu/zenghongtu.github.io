{"data":{"post":{"id":"e23bf336-a5d5-5e40-b2eb-f612590a4bb8","html":"<p>title: scrapy-redis设置不同db\nauthor: 大图\ntags:</p>\n<ul>\n<li>\n<p>scrapy-redis</p>\n</li>\n<li>\n<p>scrapy\ncategories:</p>\n</li>\n<li>\n<p>爬虫\ndate: 2017-12-08 15:37:00</p>\n<hr>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 指定使用 db2</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MySpider</span><span class=\"token punctuation\">(</span>RedisSpider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token triple-quoted-string string\">\"\"\"Spider that reads urls from redis queue (myspider:start_urls).\"\"\"</span>\nname <span class=\"token operator\">=</span> <span class=\"token string\">'xxxx'</span>\nredis_key <span class=\"token operator\">=</span> <span class=\"token string\">'xxxx:start_urls'</span>\n\n<span class=\"token comment\"># ……</span>\ncustom_settings <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'LOG_LEVEL'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'DEBUG'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'DOWNLOAD_DELAY'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token comment\"># 指定redis数据库的连接参数</span>\n    <span class=\"token string\">'REDIS_HOST'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'192.168.1.99'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'REDIS_PORT'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">6379</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token comment\"># 指定 redis链接密码，和使用哪一个数据库</span>\n    <span class=\"token string\">'REDIS_PARAMS'</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'password'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'redisPasswordTest123456'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'db'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>","fields":{"slug":"/scrapy-redis设置不同db/","prefix":null},"frontmatter":{"title":"","author":null,"category":null,"cover":null}},"authornote":{"id":"f3ffdeef-a16f-507d-9f2f-98fa5e045d0b","html":"<p><strong>Mr. Gatsby</strong> Proin ornare ligula eu tellus tempus elementum. Aenean <a href=\"/\">bibendum</a> iaculis mi, nec blandit lacus interdum vitae. Vestibulum non nibh risus, a scelerisque purus. Blandit lacus interdum vitae. Vestibulum non nibh risus, a scelerisque purus.</p>"},"site":{"siteMetadata":{"facebook":{"appId":""}}}},"pageContext":{"slug":"/scrapy-redis设置不同db/","prev":{"id":"289462f0-6a16-5122-ac92-e4b1dbd96226","fields":{"slug":"/一个很好的epoll解析/","prefix":null,"source":"posts"},"frontmatter":{"title":"","category":null}},"next":{"id":"2644b8a2-79d5-54ab-8f16-67e807b09be7","fields":{"slug":"/Python网络爬虫之网易云阅读/","prefix":null,"source":"posts"},"frontmatter":{"title":"","category":null}},"source":"posts"}}